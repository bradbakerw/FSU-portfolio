<!doctype html>
<!-- Code sample developed by Geo Miller and Thomas Tricarico -->
<!-- Code released for educational purposes only -->
<!-- By Brad Baker, 10/2/13 -->
<html>
<head>
<title>JavaScript Interaction Assignment</title>
<!-- CSS styling moved to external stylesheet-->
<link rel="stylesheet" type="text/css" href="stylesheet.css" />
<!-- This includes the jQuery library -->
<script src="jquery-1.7.2.min.js" type="text/javascript"></script>
<!-- Implement your JavaScript code here -->
<script type="text/javascript">
// Implement function open_popup() here to fadeIn the #register_box div  See: JS2 Popup Boxes Demo
function open_popup()	{
	$("#register_box").fadeIn(); // jQuery code for fading in
}
// Implement function close_popup() here to fadeOut the #register_box div  See: JS2 Popup Boxes Demo
function close_popup()	{
	$("#register_box").fadeOut(); // jQuery code for fading out
}
// Implement function slide_login() here to slideToggle the #login_box div  See: JS2 Sliding Boxes Demo
function slide_login(){
	$("#login_box").slideToggle(700);
}
// Implement function check_email() here to add or remove the .box_error class using if/else
function check_email() {
	var emailText = $("#email").val();
	var at= emailText.indexOf("@")
	var dot= emailText.indexOf(".",at)
	$("#email").addClass('box_error');
	if (dot>at) {
		$("#email").removeClass('box_error');
	}
	if (at<0) {
	$("#email").addClass('box_error');//code
	}
	if (dot<0) {
	$("#email").addClass('box_error');
	}
}
</script>
<!-- how would I add a function to check if email text field contains @ symbol, so that
unless there is an "@" symbol present in the field, it will add class .box_error?
I tried replacing "else" with:
else if (email == "@") {
		$("#email").removeClass('box_error');
	}
	but it didn't quite work right.
	would I use one of these comparison operators? !="@" !=="@" <="@"
	I want to addClass if field does not contain @, even if there is other text in it.
	I want to removeClass if field contains @. *I'm running into issues of only removing class if field is exactly "@"-->


</head>
<body>
<div id="container">
	<!-- This nav is a heading including links to login and register for the website -->
	<div id="nav"> 
		<!-- Add the onClick event to the login link to call  slide_login() -->
		<a href="#" id="login" onClick="slide_login() " >Login Now</a> |
		<!-- Add the onClick event to the register link to call  open_popup() -->
		<a href="#" id="register" onClick="open_popup() ">Register Now</a>
		
		<div id="login_box">
			<form id="login_form">
				Username: <input type="text" class="login_text" id="name" />
				Password: <input type="password" class="login_text" id="pass" />
				<!-- Add the onClick event to this button to call slide_login() -->
				<input type="button" value="Login" onClick="slide_login() "/>
			</form>
		</div>
	</div>

	<div id="register_box">
		
	<h1>Register</h1>
		<form id="register_form">
			<div id="reg_fields">
			Name: <input type="text" class="register_text" id="name" /><br />
			<!-- Add the onBlur event to this input box to call check_email() -->	
			Email: <input type="text" class="register_text" id="email" onBlur="check_email()"/><br />
			Password: <input type="password" class="register_text" id="password" /><br />
			<!-- Add the onClick event to this button to call close_popup() -->
			<input onClick="close_popup() " type="submit" value="Register" />
			<p id="notice"><em>Make sure there is an "@" symbol in the e-mail text field
			and that a "." follows it, as would be true in a real email address (ex: abc@fsu.edu).
			Geo ok'd this modification of the assignment.</em></p>
			</div>
		</form>
		<!-- Add the onClick event to this link to call close_popup() -->
		<h4><a href="#" onClick="close_popup() " >Close Registration Form</a></h4>
	</div>

	<div id="content">	
		<h1>JS Interaction Assignment</h1>
		<h2>Assignment completed by:</h2>
		<h3><em>Brad Baker</em> on <em>10/2/13</em></h3>
		<p>This assignment displays the use of javascript and jquery to create an
		interactive UI for login and registration on a website.  The next topic in
		the course will be server side programming, which is required for authentication
		methods to register and login users to a website.</p>
	</div>
</div>
</body>
</html>
